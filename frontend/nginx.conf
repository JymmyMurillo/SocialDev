# =====================================================
# Nginx Configuration - Frontend
# =====================================================

server {
    listen 80;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # Comprimir archivos
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

    # Servir archivos estáticos
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Cache para assets
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}

# =====================================================
# EXPLICACIÓN
# =====================================================
#
# try_files $uri $uri/ /index.html;
#   - Intenta servir el archivo solicitado
#   - Si no existe, sirve index.html
#   - Necesario para React Router (SPA)
#
# gzip on:
#   - Comprime archivos antes de enviarlos
#   - Reduce tamaño de transferencia
#   - Más rápido para el usuario
#
# expires 1y:
#   - Cache de 1 año para assets estáticos
#   - Los nombres tienen hash, así que nunca hay conflictos
#   - Ejemplo: main.abc123.js
#
# =====================================================